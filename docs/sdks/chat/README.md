# Chat
(*chat*)

## Overview

OpenAI's API chat completions v1 endpoint

### Available Operations

* [create](#create) - Create chat completions
* [stream](#stream)

## create

This function processes chat completion requests by determining whether to use streaming
or non-streaming response handling based on the request payload. For streaming requests,
it configures additional options to track token usage.

## Returns

Returns a Response containing either:
- A streaming SSE connection for real-time completions
- A single JSON response for non-streaming completions

## Errors

Returns an error status code if:
- The request processing fails
- The streaming/non-streaming handlers encounter errors
- The underlying inference service returns an error

### Example Usage

```python
import atoma_sdk
from atoma_sdk import AtomaSDK
import os


with AtomaSDK(
    bearer_auth=os.getenv("ATOMASDK_BEARER_AUTH", ""),
) as as_client:

    res = as_client.chat.create(messages=[
        {
            "content": "You are a helpful AI assistant",
            "name": "AI expert",
            "role": atoma_sdk.RoleSystem.SYSTEM,
        },
        {
            "content": "Hello!",
            "name": "John Doe",
            "role": atoma_sdk.RoleUser.USER,
        },
        {
            "content": "I'm here to help you with any questions you have. How can I assist you today?",
            "name": "AI",
            "role": atoma_sdk.RoleAssistant.ASSISTANT,
        },
    ], model="meta-llama/Llama-3.3-70B-Instruct", frequency_penalty=0, functions=[
        {
            "name": "get_current_weather",
            "description": "Get the current weather in a location",
            "parameters": {
                "type": "object",
                "properties": {
                    "location": {
                        "type": "string",
                        "description": "The location to get the weather for",
                    },
                },
                "required": [
                    "location",
                ],
            },
        },
    ], logit_bias={
        "1234567890": 0.5,
        "1234567891": -0.5,
    }, max_completion_tokens=4096, n=1, parallel_tool_calls=True, presence_penalty=0, seed=123, service_tier="auto", stop=[
        "json([\"stop\", \"halt\"])",
    ], temperature=0.7, tools=[
        {
            "function": {
                "description": "Get the current weather in a location",
                "name": "get_current_weather",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "location": {
                            "type": "string",
                            "description": "The location to get the weather for",
                        },
                    },
                    "required": [
                        "location",
                    ],
                },
            },
            "type": "function",
        },
    ], top_logprobs=1, top_p=1, user="user-1234")

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `messages`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | List[[models.ChatCompletionMessage](../../models/chatcompletionmessage.md)]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | A list of messages comprising the conversation so far                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | [<br/>{<br/>"role": "system",<br/>"content": "You are a helpful AI assistant"<br/>},<br/>{<br/>"role": "user",<br/>"content": "Hello!"<br/>},<br/>{<br/>"role": "assistant",<br/>"content": "I'm here to help you with any questions you have. How can I assist you today?"<br/>}<br/>]                                                                                                                                                                                                                                                                                                                                                   |
| `model`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *str*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | ID of the model to use                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | meta-llama/Llama-3.3-70B-Instruct                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `frequency_penalty`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Number between -2.0 and 2.0. Positive values penalize new tokens based on their<br/>existing frequency in the text so far                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `function_call`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | *Optional[Any]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Controls how the model responds to function calls                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `functions`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | List[*Any*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | A list of functions the model may generate JSON inputs for                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | [<br/>{<br/>"name": "get_current_weather",<br/>"description": "Get the current weather in a location",<br/>"parameters": {<br/>"type": "object",<br/>"properties": {<br/>"location": {<br/>"type": "string",<br/>"description": "The location to get the weather for"<br/>}<br/>},<br/>"required": [<br/>"location"<br/>]<br/>}<br/>}<br/>]                                                                                                                                                                                                                                                                                               |
| `logit_bias`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Dict[str, *float*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Modify the likelihood of specified tokens appearing in the completion.<br/><br/>Accepts a JSON object that maps tokens (specified by their token ID in the tokenizer)<br/>to an associated bias value from -100 to 100. Mathematically, the bias is added to the logits<br/>generated by the model prior to sampling. The exact effect will vary per model, but values<br/>between -1 and 1 should decrease or increase likelihood of selection; values like -100 or<br/>100 should result in a ban or exclusive selection of the relevant token.                                                                                         | {<br/>"1234567890": 0.5,<br/>"1234567891": -0.5<br/>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `max_completion_tokens`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | The maximum number of tokens to generate in the chat completion                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 4096                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `max_tokens`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | : warning: ** DEPRECATED **: This will be removed in a future release, please migrate away from it as soon as possible.<br/><br/>The maximum number of tokens to generate in the chat completion                                                                                                                                                                                                                                                                                                                                                                                                                                          | 4096                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `n`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | How many chat completion choices to generate for each input message                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `parallel_tool_calls`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | *OptionalNullable[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Whether to enable parallel tool calls.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `presence_penalty`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Number between -2.0 and 2.0. Positive values penalize new tokens based on<br/>whether they appear in the text so far                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `response_format`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | [OptionalNullable[models.ResponseFormat]](../../models/responseformat.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `seed`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | If specified, our system will make a best effort to sample deterministically                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 123                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `service_tier`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Specifies the latency tier to use for processing the request. This parameter is relevant for customers subscribed to the scale tier service:<br/><br/>If set to 'auto', and the Project is Scale tier enabled, the system will utilize scale tier credits until they are exhausted.<br/>If set to 'auto', and the Project is not Scale tier enabled, the request will be processed using the default service tier with a lower uptime SLA and no latency guarantee.<br/>If set to 'default', the request will be processed using the default service tier with a lower uptime SLA and no latency guarantee.<br/>When not set, the default behavior is 'auto'. | auto                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `stop`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | List[*str*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Up to 4 sequences where the API will stop generating further tokens                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | json(["stop", "halt"])                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `stream`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | *OptionalNullable[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Whether to stream back partial progress. Must be false for this request type.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `stream_options`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | [OptionalNullable[models.StreamOptions]](../../models/streamoptions.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `temperature`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | What sampling temperature to use, between 0 and 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 0.7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `tool_choice`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | [OptionalNullable[models.ToolChoice]](../../models/toolchoice.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `tools`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | List[[models.ChatCompletionToolsParam](../../models/chatcompletiontoolsparam.md)]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | A list of tools the model may call                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | [<br/>{<br/>"type": "function",<br/>"function": {<br/>"name": "get_current_weather",<br/>"description": "Get the current weather in a location",<br/>"parameters": {<br/>"type": "object",<br/>"properties": {<br/>"location": {<br/>"type": "string",<br/>"description": "The location to get the weather for"<br/>}<br/>},<br/>"required": [<br/>"location"<br/>]<br/>}<br/>}<br/>}<br/>]                                                                                                                                                                                                                                               |
| `top_logprobs`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | An integer between 0 and 20 specifying the number of most likely tokens to return at each token position, each with an associated log probability.<br/>logprobs must be set to true if this parameter is used.                                                                                                                                                                                                                                                                                                                                                                                                                            | 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `top_p`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | An alternative to sampling with temperature                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `user`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | A unique identifier representing your end-user                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | user-1234                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `retries`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Configuration to override the default retry behavior of the client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

### Response

**[models.ChatCompletionResponse](../../models/chatcompletionresponse.md)**

### Errors

| Error Type      | Status Code     | Content Type    |
| --------------- | --------------- | --------------- |
| models.APIError | 4XX, 5XX        | \*/\*           |

## stream

### Example Usage

```python
import atoma_sdk
from atoma_sdk import AtomaSDK
import os


with AtomaSDK(
    bearer_auth=os.getenv("ATOMASDK_BEARER_AUTH", ""),
) as as_client:

    res = as_client.chat.stream(messages=[
        {
            "content": "You are a helpful AI assistant",
            "name": "AI expert",
            "role": atoma_sdk.RoleSystem.SYSTEM,
        },
        {
            "content": "Hello!",
            "name": "John Doe",
            "role": atoma_sdk.RoleUser.USER,
        },
        {
            "content": "I'm here to help you with any questions you have. How can I assist you today?",
            "name": "AI",
            "role": atoma_sdk.RoleAssistant.ASSISTANT,
        },
    ], model="meta-llama/Llama-3.3-70B-Instruct", frequency_penalty=0, functions=[
        {
            "name": "get_current_weather",
            "description": "Get the current weather in a location",
            "parameters": {
                "type": "object",
                "properties": {
                    "location": {
                        "type": "string",
                        "description": "The location to get the weather for",
                    },
                },
                "required": [
                    "location",
                ],
            },
        },
    ], logit_bias={
        "1234567890": 0.5,
        "1234567891": -0.5,
    }, max_completion_tokens=4096, n=1, parallel_tool_calls=True, presence_penalty=0, seed=123, service_tier="auto", stop=[
        "json([\"stop\", \"halt\"])",
    ], temperature=0.7, tools=[
        {
            "function": {
                "description": "Get the current weather in a location",
                "name": "get_current_weather",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "location": {
                            "type": "string",
                            "description": "The location to get the weather for",
                        },
                    },
                    "required": [
                        "location",
                    ],
                },
            },
            "type": "function",
        },
    ], top_logprobs=1, top_p=1, user="user-1234")

    with res as event_stream:
        for event in event_stream:
            # handle event
            print(event, flush=True)

```

### Parameters

| Parameter                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `messages`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | List[[models.ChatCompletionMessage](../../models/chatcompletionmessage.md)]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | A list of messages comprising the conversation so far                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | [<br/>{<br/>"role": "system",<br/>"content": "You are a helpful AI assistant"<br/>},<br/>{<br/>"role": "user",<br/>"content": "Hello!"<br/>},<br/>{<br/>"role": "assistant",<br/>"content": "I'm here to help you with any questions you have. How can I assist you today?"<br/>}<br/>]                                                                                                                                                                                                                                                                                                                                                   |
| `model`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *str*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | ID of the model to use                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | meta-llama/Llama-3.3-70B-Instruct                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `frequency_penalty`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Number between -2.0 and 2.0. Positive values penalize new tokens based on their<br/>existing frequency in the text so far                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `function_call`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | *Optional[Any]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Controls how the model responds to function calls                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `functions`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | List[*Any*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | A list of functions the model may generate JSON inputs for                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | [<br/>{<br/>"name": "get_current_weather",<br/>"description": "Get the current weather in a location",<br/>"parameters": {<br/>"type": "object",<br/>"properties": {<br/>"location": {<br/>"type": "string",<br/>"description": "The location to get the weather for"<br/>}<br/>},<br/>"required": [<br/>"location"<br/>]<br/>}<br/>}<br/>]                                                                                                                                                                                                                                                                                               |
| `logit_bias`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Dict[str, *float*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Modify the likelihood of specified tokens appearing in the completion.<br/><br/>Accepts a JSON object that maps tokens (specified by their token ID in the tokenizer)<br/>to an associated bias value from -100 to 100. Mathematically, the bias is added to the logits<br/>generated by the model prior to sampling. The exact effect will vary per model, but values<br/>between -1 and 1 should decrease or increase likelihood of selection; values like -100 or<br/>100 should result in a ban or exclusive selection of the relevant token.                                                                                         | {<br/>"1234567890": 0.5,<br/>"1234567891": -0.5<br/>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `max_completion_tokens`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | The maximum number of tokens to generate in the chat completion                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 4096                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `max_tokens`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | : warning: ** DEPRECATED **: This will be removed in a future release, please migrate away from it as soon as possible.<br/><br/>The maximum number of tokens to generate in the chat completion                                                                                                                                                                                                                                                                                                                                                                                                                                          | 4096                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `n`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | How many chat completion choices to generate for each input message                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `parallel_tool_calls`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | *OptionalNullable[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Whether to enable parallel tool calls.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `presence_penalty`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Number between -2.0 and 2.0. Positive values penalize new tokens based on<br/>whether they appear in the text so far                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `response_format`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | [OptionalNullable[models.ResponseFormat]](../../models/responseformat.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `seed`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | If specified, our system will make a best effort to sample deterministically                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 123                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `service_tier`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Specifies the latency tier to use for processing the request. This parameter is relevant for customers subscribed to the scale tier service:<br/><br/>If set to 'auto', and the Project is Scale tier enabled, the system will utilize scale tier credits until they are exhausted.<br/>If set to 'auto', and the Project is not Scale tier enabled, the request will be processed using the default service tier with a lower uptime SLA and no latency guarantee.<br/>If set to 'default', the request will be processed using the default service tier with a lower uptime SLA and no latency guarantee.<br/>When not set, the default behavior is 'auto'. | auto                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `stop`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | List[*str*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Up to 4 sequences where the API will stop generating further tokens                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | json(["stop", "halt"])                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `stream`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | *Optional[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Whether to stream back partial progress. Must be true for this request type.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `stream_options`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | [OptionalNullable[models.StreamOptions]](../../models/streamoptions.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `temperature`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | What sampling temperature to use, between 0 and 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 0.7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `tool_choice`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | [OptionalNullable[models.ToolChoice]](../../models/toolchoice.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `tools`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | List[[models.ChatCompletionToolsParam](../../models/chatcompletiontoolsparam.md)]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | A list of tools the model may call                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | [<br/>{<br/>"type": "function",<br/>"function": {<br/>"name": "get_current_weather",<br/>"description": "Get the current weather in a location",<br/>"parameters": {<br/>"type": "object",<br/>"properties": {<br/>"location": {<br/>"type": "string",<br/>"description": "The location to get the weather for"<br/>}<br/>},<br/>"required": [<br/>"location"<br/>]<br/>}<br/>}<br/>}<br/>]                                                                                                                                                                                                                                               |
| `top_logprobs`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | An integer between 0 and 20 specifying the number of most likely tokens to return at each token position, each with an associated log probability.<br/>logprobs must be set to true if this parameter is used.                                                                                                                                                                                                                                                                                                                                                                                                                            | 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `top_p`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | An alternative to sampling with temperature                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `user`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | A unique identifier representing your end-user                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | user-1234                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `retries`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Configuration to override the default retry behavior of the client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

### Response

**[Union[eventstreaming.EventStream[models.ChatCompletionsCreateStreamResponseBody], eventstreaming.EventStreamAsync[models.ChatCompletionsCreateStreamResponseBody]]](../../models/.md)**

### Errors

| Error Type      | Status Code     | Content Type    |
| --------------- | --------------- | --------------- |
| models.APIError | 4XX, 5XX        | \*/\*           |